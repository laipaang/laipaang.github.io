---
title: LeetCode 292. Nim游戏
date: 2021-09-19 13:35:58
categories: leetcode
tags:
---

### 题目
[292. Nim游戏](https://leetcode-cn.com/problems/next-permutation/)
你和你的朋友，两个人一起玩 Nim 游戏：

<!-- more -->
桌子上有一堆石头。
你们轮流进行自己的回合，你作为先手。
每一回合，轮到的人拿掉 1 - 3 块石头。
拿掉最后一块石头的人就是获胜者。
假设你们每一步都是最优解。请编写一个函数，来判断你是否可以在给定石头数量为 n 的情况下赢得游戏。如果可以赢，返回 true；否则，返回 false 。

### 思路
这是一个零和游戏（Zero-sum Game），是博弈论（gametheory）的一个概念。零和游戏也叫零和博弈，指的是两人对弈，总有一方赢（计分为1）、一方输（计分为-1），总和是0。在游戏中，双方都会选择对自己最有益的策略

假设有1块石头，直接拿走1块，己方赢
假设有2块石头，直接拿走2块，己方赢
假设有3块石头，直接拿走3块，己方赢

假设有4块石头，若拿1块、2块、3块，剩余分别是3块、2块、1块，对方赢

假设有5块石头，下轮可能是上4中情况，不想让对方赢，只有让下轮4块，本轮拿1块，己方赢
...

一个回合指己方拿一次，对方拿一次。每个回合各方可拿走的石头块数可能是1、2、3，每个回合总能凑出4块(1+3、2+2、3+1)，是谁拿到最后一块石头就是一件确定的事情。零和博弈的前提是双方都会寻找自己的最优解。石头数是n，己方先手：
1）若n能被4整除，对方只要控制每个回合拿走4块石头，那最后一手一定是对方
2）若n不能被4整除，相当于给了己方一次调整机会，第一次先手时将石头数调整为4的倍数，同1）理，则最后一手一定是己方。

### 实现
``` cpp
bool canWinNim(int n) {
    return n % 4;
}
```
